<div class="container mt-4">
  <form [formGroup]="formQuestion" (ngSubmit)="onSubmit()" *ngIf="isLoaded">
    <div *ngFor="let question of questions; let i = index" class="mb-4">
      <h5 class="text">{{ i + 1 }}- {{ question.text }}</h5>

      <div class="form-check mb-2" *ngFor="let option of question.options">
        <input
          class="form-check-input"
          type="radio"
          [formControlName]="'question_' + i"
          [value]="option"
          [name]="'question_' + i"
          attr.id="question_{{ i }}_option_{{ option }}"
        >
        <label class="form-check-label" attr.for="question_{{ i }}_option_{{ option }}">
          {{ option }}
        </label>
      </div>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="!formQuestion.valid" [routerLink]="['/result']">
      Save
    </button>
  </form>

  <div *ngIf="!isLoaded" class="text-center" >
    <p>Loading questions...</p>
  </div>
</div>
